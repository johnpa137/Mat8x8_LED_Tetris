module keyInput(out, in, clk, reset);
	output logic out;
	input logic in;
	input logic clk, reset;
	
	logic ps, ns;
	
	always_comb begin
		out = 1'b0;
		case(ps)
			1'b0: begin // not pressed
				if(in) begin
					ns = 1'b1;
					out = 1'b1;
				end else begin
					ns = 1'b0;
				end
			end
			1'b1: begin // pressed
				if(in) begin
					ns = 1'b1;
				end else begin
					ns = 1'b0;
				end
			end
		endcase
	end
	
	always_ff @(posedge clk)
		if(reset)
			ps <= 1'b0;
		else
			ps <= ns;
endmodule 