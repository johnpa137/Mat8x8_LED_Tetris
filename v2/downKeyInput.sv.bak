module downKeyInput(out, in, clk, reset);
	output logic out;
	input logic in;
	input logic clk, reset;
	
	logic ps, ns;
	logic in0, in1;
	
	always_comb begin
		out = 1'b0;
		case(ps)
			1'b0: begin // not pressed
				if(in1) begin
					ns = 1'b1;
					out = 1'b1;
				end else begin
					ns = 1'b0;
				end
			end
			1'b1: begin // pressed
				if(in1) begin
					ns = 1'b1;
				end else begin
					ns = 1'b0;
				end
			end
		endcase
	end
	
	always_ff @(posedge clk)
		if(reset) begin
			ps <= 1'b0;
			in0 <= 1'b0;
			in1 <= 1'b0;
		end else begin
			ps <= ns;
			in0 <= in;
			in1 <= in0;
		end
endmodule 